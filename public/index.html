<!DOCTYPE html>
<html>

<head>
   <title>Device Ready Example</title>

   <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
   <!--<script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>-->
   <script type="text/javascript" charset="utf-8">
      // Wait for device API libraries to load
      //
      function onLoad() {
         document.addEventListener("deviceready", onDeviceReady, false);
      }

      // device APIs are available
      //
      function onDeviceReady() {
         alert('ready')
      //   var myFirebaseRef = new Firebase("https://afes-2017.firebaseio.com/");
      window.FirebasePlugin.grantPermission();
      window.FirebasePlugin.getToken(function (token) {
            // save this server-side and use it to push notifications to this device
            console.log(token);
            alert(token);
         }, function (error) {
            console.error(error);
         });
         window.FirebasePlugin.onTokenRefresh(function (token) {
               // save this server-side and use it to push notifications to this device
               console.log(token);
               alert(token)
            }, function (error) {
               console.error(error);
            });
         window.FirebasePlugin.onNotificationOpen(function (notification) {
               alert(notification);
            }, function (error) {
               alert(error);
            });
      }
   </script>
</head>

<body onload="onLoad()">
</body>

</html>