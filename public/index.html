<!DOCTYPE html>
<html>

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
<title>Event App</title>

<!-- plugins css -->
<link rel="stylesheet" href="assets/bootstrap.css">
<link rel="stylesheet" href="assets/pace-theme-minimal.css">
<link rel="stylesheet" href="assets/perfect-scrollbar.min.css">
<link rel="manifest" href="/manifest.json">
<!-- page plugins css -->
<link rel="stylesheet" href="assets/jquery-jvectormap-1.2.2.css">
<link rel="stylesheet" href="assets/nv.d3.min.css">

<!-- core css -->
<link href="assets/ei-icon.css" rel="stylesheet">
<link href="assets/themify-icons.css" rel="stylesheet">
<link href="assets/font-awesome.min.css" rel="stylesheet">
<link href="assets/animate.min.css" rel="stylesheet">
<link rel="stylesheet" href="chat/chat.css">
<link href="assets/app.css" rel="stylesheet">
<style type="text/css">
   .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      z-index: 10000;
   }

   .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
   }
</style>
</head>

<body class="pace-done" ng-app="myApp" ng-controller="AppController">
   <div class="app header-dark">
      <div class="layout">
         <!-- Side Nav START -->
         <div ng-include="'partials/side-nav.html'"></div>
         <!-- Side Nav END -->

         <!-- Page Container START -->
         <div class="page-container">
            <!-- Header START -->
            <div ng-include="'partials/header-nav.html'"></div>
            <!-- Header END -->

            <!-- Side Panel START -->
           
            <!-- Side Panel END -->

            <!-- theme configurator START -->
            <div ng-include="'partials/theme-config.html'"></div>
            <!-- theme configurator END -->

            <!-- Theme Toggle Button START -->
            <!--<button class="theme-toggle btn btn-rounded btn-icon">
                    <i class="ti-palette"></i>
                </button>-->
            <!-- Theme Toggle Button END -->

            <!-- Content Wrapper START -->
            <ui-view autoscroll="true" ng-click="hideMenu()"></ui-view>
            <!-- Content Wrapper END -->

            <!-- Footer START -->
            <div ng-include="'partials/side-panel.html'"></div>
            <!-- Footer END -->

         </div>
         <!-- Page Container END -->

      </div>
   </div>

   <!--<script src="assets/vendor.js"></script>


    <script src="assets/jquery-jvectormap-1.2.2.min.js"></script>
    <script src="assets/jquery-jvectormap-us-aea.js"></script>
    <script src="assets/d3.min.js"></script>
    <script src="assets/nv.d3.min.js"></script>
    <script src="assets/index.js"></script>
    <script src="assets/Chart.min.js"></script>-->

   <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"></script>

   <script src="js/angular.min.js"></script>
   <script src="js/angular-ui-router.min.js"></script>
   <script src="js/angular-sanitize.min.js"></script>
   <script src="js/moment.min.js"></script>

   <script src="chat/assets/rltm/web/rltm.js"></script>
   <script src="chat/assets/angular-chat/angular-chat.js"></script>
   <script src="js/angular-youtube-api-factory.min.js"></script>

   <script src="js/azure-mobile-apps-client.js"></script>
   <script>
      var appUrl = 'https://fishry-app-services.azurewebsites.net/';
      var clientRef = new WindowsAzure.MobileServiceClient(appUrl);

      document.addEventListener("deviceready", onDeviceReady, false);
         function onDeviceReady() {
            var push = PushNotification.init({ "android": { "senderID": "761913983169" } });
            push.on('registration', function (data) {
               alert(data.registrationId);
            });

            push.on('notification', function (data) {
               alert(data.title + " Message: " + data.message);
            });

            push.on('error', function (e) {
               alert(e);
            });
         }
   </script>
   
   <!--<script src="https://www.gstatic.com/firebasejs/4.6.1/firebase.js"></script>
   <script>
      // Initialize Firebase
      var config = {
         apiKey: "AIzaSyDzLcOnaVVxDaucTVeD53KKCjrGj3dgWlo",
         authDomain: " afes-2017.firebaseapp.com",
         databaseURL: "https://afes-2017.firebaseio.com",
         projectId: "afes-2017",
         storageBucket: "afes-2017.appspot.com",
         messagingSenderId: "584747194764"
      };
      firebase.initializeApp(config);
      // Retrieve Firebase Messaging object.
         const messaging = firebase.messaging();
         console.log(messaging)
         messaging.requestPermission()
               .then(function () {
                  console.log('Notification permission granted.');
                  // TODO(developer): Retrieve an Instance ID token for use with FCM.
                  // ...
               })
               .catch(function (err) {
                  console.log('Unable to get permission to notify.', err);
               });
         messaging.getToken()
               .then(function (currentToken) {
                  if (currentToken) {
                     sendTokenToServer(currentToken);
                     updateUIForPushEnabled(currentToken);
                  } else {
                     // Show permission request.
                     console.log('No Instance ID token available. Request permission to generate one.');
                     // Show permission UI.
                     updateUIForPushPermissionRequired();
                     setTokenSentToServer(false);
                  }
               })
               .catch(function (err) {
                  alert('An error occurred while retrieving token. ', err);
                  showToken('Error retrieving Instance ID token. ', err);
                  setTokenSentToServer(false);
               });
         var sendTokenToServer = function(token){
            alert(token)
         }
         var updateUIForPushPermissionRequired = function (token) {
               console.log(token)
            }
            var updateUIForPushEnabled = function (token) {
                  console.log(token)
               }
         messaging.onTokenRefresh(function () {
               messaging.getToken()
                  .then(function (refreshedToken) {
                     console.log('Token refreshed.');
                     // Indicate that the new Instance ID token has not yet been sent to the
                     // app server.
                     setTokenSentToServer(false);
                     // Send Instance ID token to app server.
                     sendTokenToServer(refreshedToken);
                     // ...
                  })
                  .catch(function (err) {
                    console.log('Unable to retrieve refreshed token ', err);
                     showToken('Unable to retrieve refreshed token ', err);
                  });
            });
            messaging.onMessage(function (payload) {
                  console.log("Message received. ", payload);
                  // ...
               });


   </script>-->
   <script src="js/app.js"></script>


</body>

</html>